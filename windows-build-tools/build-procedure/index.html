<!DOCTYPE html>
<html>

<head>

  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="alternate" type="application/rss+xml" title="GNU ARM Eclipse" href="/feed.xml" />

  <title>How to build the Windows Build Tools binaries?</title>
  <meta name="description" content="A family of Eclipse CDT extensions and tools for GNU ARM development">

  <meta property="og:title" content="How to build the Windows Build Tools binaries?" />
  <meta property="og:site_name" content="GNU ARM Eclipse" />


  <meta property="article:published_time" content="2015-09-04">





  <meta name="google-site-verification" content="NT_y3tqI_8mrd8gYA_FDWHT2-tkJExOC6KBkSnyZx6c" />

  <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/stylesheets/mobile.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/stylesheets/github-light.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/stylesheets/toc.css" media="screen">

  <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print">

  <link rel="canonical" href="/windows-build-tools/build-procedure/">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/manifest.json">

  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-16767008-16', 'auto');
  ga('send', 'pageview');

</script>



</head>


<body>

<header>
  <div class="inner">
    <h1><a href="/">GNU ARM Eclipse</a></h1>
    <h2>A family of Eclipse CDT extensions and tools for GNU ARM development</h2>
    <a href="http://github.com/gnuarmeclipse" class="button"><small>Follow me on</small> GitHub</a>
  </div>
</header>


<div id="content-wrapper">
<div class="inner clearfix">

<section id="main-content">


<h1 class="page-title">How to build the Windows Build Tools binaries?</h1>


<div id="toc-container">
<table class="toc" id="toc">
<tbody>
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toc_level-1 toc_section-1">
<a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Prerequisites</span></a>
<ul>
<li class="toc_level-2 toc_section-2">
<a href="#tocAnchor-1-1-1"><span class="tocnumber">1.1</span> <span class="toctext">OS X</span></a>
</li>
<li class="toc_level-2 toc_section-3">
<a href="#tocAnchor-1-1-2"><span class="tocnumber">1.2</span> <span class="toctext">GNU/Linux</span></a>
</li>
<li class="toc_level-2 toc_section-4">
<a href="#tocAnchor-1-1-3"><span class="tocnumber">1.3</span> <span class="toctext">Docker images</span></a>
</li>
</ul>
</li>
<li class="toc_level-1 toc_section-5">
<a href="#tocAnchor-1-5"><span class="tocnumber">2</span> <span class="toctext">Download the build script</span></a>
</li>
<li class="toc_level-1 toc_section-6">
<a href="#tocAnchor-1-6"><span class="tocnumber">3</span> <span class="toctext">Check the script</span></a>
</li>
<li class="toc_level-1 toc_section-7">
<a href="#tocAnchor-1-7"><span class="tocnumber">4</span> <span class="toctext">Preload the Docker images</span></a>
</li>
<li class="toc_level-1 toc_section-8">
<a href="#tocAnchor-1-8"><span class="tocnumber">5</span> <span class="toctext">Build all distribution files</span></a>
</li>
<li class="toc_level-1 toc_section-9">
<a href="#tocAnchor-1-9"><span class="tocnumber">6</span> <span class="toctext">Subsequent runs</span></a>
<ul>
<li class="toc_level-2 toc_section-10">
<a href="#tocAnchor-1-9-1"><span class="tocnumber">6.1</span> <span class="toctext">Separate platform specific builds</span></a>
</li>
<li class="toc_level-2 toc_section-11">
<a href="#tocAnchor-1-9-2"><span class="tocnumber">6.2</span> <span class="toctext">clean</span></a>
</li>
</ul>
</li>
<li class="toc_level-1 toc_section-12">
<a href="#tocAnchor-1-12"><span class="tocnumber">7</span> <span class="toctext">Install hierarchy</span></a>
</li>
<li class="toc_level-1 toc_section-13">
<a href="#tocAnchor-1-13"><span class="tocnumber">8</span> <span class="toctext">Uninstall</span></a>
</li>
<li class="toc_level-1 toc_section-14">
<a href="#tocAnchor-1-14"><span class="tocnumber">9</span> <span class="toctext">Stop boot2docker</span></a>
</li>
<li class="toc_level-1 toc_section-15">
<a href="#tocAnchor-1-15"><span class="tocnumber">10</span> <span class="toctext">More build details</span></a>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div><p>The latest version of the build script is a single run, multi-platform build, generating the Windows 32, Windows 64 distribution packages at once.</p>

<p>The script was developed on OS X, but it also runs on any recent GNU/Linux distribution.</p>

<h2 id="tocAnchor-1-1">Prerequisites</h2>

<p>The main trick that made the multi-platform build possible is <a href="https://www.docker.com">Docker</a>.</p>

<p>The Windows build uses MinGW-w64 in a Debian 8 container.</p>

<h3 id="tocAnchor-1-1-1">OS X</h3>

<h4>Install Docker</h4>

<p>On OS X, install <strong>boot2docker</strong>, following the official <a href="https://docs.docker.com/installation/mac/">Install Docker on Mac OS X</a> instructions.</p>

<h4>Install the Command Line Tools</h4>

<p>The OS X development tools are packed in a separate Xcode add-on. The best place to get it is from the <a href="https://developer.apple.com/xcode/downloads/">Developer</a> site, although this might require enrolling to the developer program (free of charge).</p>

<p>To test if git is available, use:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">$ git --version
git version 2.3.2 (Apple Git-55)
</code></pre>
</div>
<h3 id="tocAnchor-1-1-2">GNU/Linux</h3>

<h4>Install Docker</h4>

<p>For any GNU/Linux distribution, follow the <a href="https://docs.docker.com/installation/#installation">specific instructions</a>.</p>

<h4>Install required packages</h4>

<p>Since most of the build is performed inside the Docker containers, there are not many requirements for the host, and most of the time these programs are in the standard distribution (<strong>curl</strong>, <strong>git</strong>, <strong>automake</strong>, <strong>patch</strong>, <strong>tar</strong>, <strong>unzip</strong>).</p>

<p>The script checks for them; if the script fails, install them and re-run.</p>

<h3 id="tocAnchor-1-1-3">Docker images</h3>

<p>The Docker images are available from <a href="https://hub.docker.com/u/ilegeul/">Docker Hub</a>. They were build using the Dockerfiles available from <a href="https://github.com/ilg-ul/docker">ilg-ul/docker on GitHub</a>.</p>

<h2 id="tocAnchor-1-5">Download the build script</h2>

<p>The script is available from the GitHub git repository and can be <a href="https://github.com/gnuarmeclipse/build-scripts/blob/master/scripts/build-windows-build-tools.sh">viewed online</a>.</p>

<p>To download it use the <a href="https://github.com/gnuarmeclipse/build-scripts/raw/master/scripts/build-windows-build-tools.sh">Raw</a> link. If the browser fails, use the following command in a terminal:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">curl -L https://github.com/gnuarmeclipse/build-scripts/raw/master/scripts/build-windows-build-tools.sh \
-o ~/Downloads/build-windows-build-tools.sh
</code></pre>
</div>
<h2 id="tocAnchor-1-6">Check the script</h2>

<p>The script creates a temporary build <strong>Work/build-tools</strong> folder in the the user home. Although not recommended, if for any reasons you need to change this, you can redefine WORK_FOLDER variable before invoking the script.</p>

<h2 id="tocAnchor-1-7">Preload the Docker images</h2>

<p>Docker does not require to explicitly download new images, but does this automatically at first use.</p>

<p>However, since the images used for this build are relatively large, it is recommended to load them explicitly before starting the build:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">bash ~/Downloads/build-windows-build-tools.sh preload-images
</code></pre>
</div>
<p>The result should look similar to:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
ilegeul/debian      8-gnuarm-mingw      b8261b27add4        3 minutes ago       2.692 GB
ilegeul/debian      8-gnuarm-gcc        ba65c1716b6e        12 minutes ago      1.437 GB
ilegeul/debian      7-gnuarm-gcc        16b30d6a4244        32 minutes ago      1.6 GB
ilegeul/debian32    7-gnuarm-gcc        2e416e412fad        43 minutes ago      1.596 GB
ilegeul/debian      7                   a4ad8e2c6d76        4 days ago          96.13 MB
ilegeul/debian32    7                   64980af805ad        4 days ago          93.65 MB
debian              8                   65688f7c61c4        6 weeks ago         122.8 MB
hello-world         latest              e45a5af57b00        4 months ago        910 B
</code></pre>
</div>
<h2 id="tocAnchor-1-8">Build all distribution files</h2>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">bash ~/Downloads/build-windows-build-tools.sh --all
</code></pre>
</div>
<p>About half an hour later, the output of the build script is a set of 5 files in the output folder:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">$ ls -l output
total 3680
-rw-r--r--   1 ilg  staff   685323 May 14 23:30 gnuarmeclipse-build-tools-win32-2.5-201505142015-setup.exe
-rw-r--r--   1 ilg  staff  1194597 May 14 23:23 gnuarmeclipse-build-tools-win64-2.5-201505142015-setup.exe
drwxr-xr-x  13 ilg  staff      442 May 14 23:24 win32
drwxr-xr-x  13 ilg  staff      442 May 14 23:17 win64
</code></pre>
</div>
<h2 id="tocAnchor-1-9">Subsequent runs</h2>

<h3 id="tocAnchor-1-9-1">Separate platform specific builds</h3>

<p>Instead of <strong>--all</strong>, you can use any combination of:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">--win32 --win64
</code></pre>
</div>
<h3 id="tocAnchor-1-9-2">clean</h3>

<p>To remove all build files, use:</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">bash ~/Downloads/build-windows-build-tools.sh clean
</code></pre>
</div>
<h2 id="tocAnchor-1-12">Install hierarchy</h2>

<p>The procedure to install the GNU ARM Eclipse Build Tools is simple. The setup asks no special questions, and the defaults are generally ok for most installations.</p>

<p>After install, this package should create structure like this (only the first two depth levels are shown):</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">$ tree -L 2 Build\ Tools/bin/version
├── COPYING
├── INFO.txt
├── bin
│   ├── busybox.exe
│   ├── echo.exe
│   ├── libiconv-2.dll
│   ├── libintl-8.dll
│   ├── make.exe
│   ├── rm.exe
│   └── sh.exe
├── gnuarmeclipse
│   ├── BUILD.txt
│   ├── CHANGES.txt
│   ├── build-build-tools.sh
│   ├── build-helper.sh
│   └── config.log
└── license
    ├── busybox
    └── make-4.1

5 directories, 14 files
</code></pre>
</div>
<p>No other files are installed in any system folders or other locations.</p>

<h2 id="tocAnchor-1-13">Uninstall</h2>

<p>To uninstall the Build Tools from a Windows machine, use the <strong>build-tools-uninstall.exe</strong> program.</p>

<h2 id="tocAnchor-1-14">Stop boot2docker</h2>

<p>On OS X, the build script automatically starts <strong>boot2docker</strong>, if needed.</p>

<p>When done, be sure you stop boot2docker, to free significant resources (a VirtualBox Ubuntu machine).</p>
<div class="highlight">
<pre>
<code class="language-text" data-lang="text">boot2docker stop
</code></pre>
</div>
<h2 id="tocAnchor-1-15">More build details</h2>

<p>The script is quite complex, and an attempt to explain its functionality would require some effort. For the final authoritative details, please refer to the comments available in the <a href="https://github.com/gnuarmeclipse/build-scripts/blob/master/scripts/build-windows-build-tools.sh">script</a>.</p>


<hr class="page-footer"/>
<p class="page-footer">Last modified on Sat Oct  3 10:04:54 2015 UTC.</p>


</section>

<aside id="sidebar">

<h4><a href="/blog/">Latest News</a></h4>

<ul>
<li><a href="/blog/2015/09/29/arm-connected-community-article/">ARM Connected Community article, September 2015</a></li>
<li><a href="/blog/2015/09/14/web-new-look/">The GNU ARM Eclipse project has a new home and a new look (GitHub)</a></li>
<li><a href="/blog/2015/08/19/plugins-v2.9.3-201508190739-released/">GNU ARM Eclipse plug-ins v2.9.3-201508190739 released</a></li>
<li><a href="/blog/2015/08/16/qemu-v2-3-50-20150816-released/">GNU ARM Eclipse QEMU v2.3.50-20150816*-dev released</a></li>
<li><a href="/blog/2015/08/07/plugins-v2.9.2-201508071246-released/">GNU ARM Eclipse plug-ins v2.9.2-201508071246 released</a></li>
</ul>

<hr />
<h4><a href="/">GNU ARM Eclipse Home</a></h4>

<h4><a href="/plugins/features/">Features</a></h4>

<h4><a href="/downloads/">Downloads</a></h4>

<ul>
<li><a href="/downloads/">Overview</a></li>
<li><a href="/plugins/download/">Plug-ins</a> (<a href="/developer/releases/">releases</a>)</li>
<li><a href="/windows-build-tools/download/">Windows Build Tools</a> (<a href="/windows-build-tools/releases/">releases</a>)</li>
<li><a href="/qemu/download/">QEMU</a> (<a href="/qemu/releases/">releases</a>)</li>
<li><a href="/openocd/download/">OpenOCD</a> (<a href="/openocd/releases/">releases</a>)</li>
</ul>

<h4><a href="/install/">Install</a></h4>

<ul>
<li><a href="/install/">Overview</a></li>
<li><a href="/plugins/install/">Eclipse plug-ins install</a></li>
<li><a href="/toolchain/install/">Toolchain(s) install</a></li>
<li><a href="/windows-build-tools/install/">Windows build tools (make &amp; rm) install</a></li>
<li><a href="/debug/install/">Debugging components</a>

<ul>
<li><a href="/debug/install/">Overview</a></li>
<li><a href="/debug/jlink/install/">SEGGER J-Link install</a></li>
<li><a href="/openocd/install/">OpenOCD install</a></li>
<li><a href="/qemu/install/">QEMU install</a></li>
</ul></li>
</ul>

<h4>Important</h4>

<ul>
<li><a href="/eclipse/workspace/preferences/">Workspace preferences</a></li>
<li><a href="/toolchain/path/">Toolchain path</a></li>
<li><a href="/eclipse/project/portability/">Project portability</a></li>
</ul>

<h4>Tutorials</h4>

<ul>
<li><a href="/tutorials/blinky-arm/">Create a Blinky ARM test project</a></li>
<li><a href="/tutorials/hello-arm/">Create a Hello ARM test project</a></li>
</ul>

<h4>How to use</h4>

<ul>
<li><a href="/plugins/mbs/">The managed build plug-in</a></li>
<li><a href="/plugins/packs-manager/">The packs manager (CMSIS)</a></li>
<li><a href="/eclipse/project/assign-device/">Assign a device</a></li>
</ul>

<h4><a href="/templates/">Templates</a></h4>

<ul>
<li><a href="/templates/">Overview</a></li>
<li><a href="/templates/cortexm/">Cortex-M template</a></li>
<li><a href="/templates/stm32f/">STM32Fxx template</a></li>
<li><a href="/templates/klxx/">Freescale KLxx templates</a></li>
</ul>

<h4><a href="/debug/">Debugging</a></h4>

<ul>
<li><a href="/debug/">Overview</a></li>
<li><a href="/debug/jlink/">The SEGGER J-Link plug-in</a></li>
<li><a href="/debug/openocd/">The OpenOCD plug-in</a></li>
<li><a href="/debug/qemu/">The QEMU plug-in</a></li>
<li><a href="/debug/peripheral-registers/">The peripheral registers view (CMSIS)</a></li>
</ul>

<h4><a href="/qemu/">GNU ARM QEMU Home</a></h4>

<ul>
<li><a href="/qemu/">Overview</a> (read me first!)</li>
<li><a href="/qemu/install/">QEMU Install</a></li>
<li><a href="/debug/qemu/">Eclipse plug-in</a></li>
<li><a href="/qemu/build-procedure/">How to build</a></li>
<li><a href="/qemu/releases/">Releases</a></li>
<li><a href="https://github.com/gnuarmeclipse/qemu/issues/1/">Support</a> (report issue)</li>
</ul>

<h4><a href="/openocd/">GNU ARM OpenOCD Home</a></h4>

<ul>
<li><a href="/openocd/">Overview</a> (read me first!)</li>
<li><a href="/openocd/install/">OpenOCD Install</a></li>
<li><a href="/debug/openocd/">The OpenOCD plug-in</a></li>
<li><a href="/openocd/build-procedure/">How to build</a></li>
<li><a href="/openocd/releases/">Releases</a></li>
<li><a href="https://github.com/gnuarmeclipse/openocd/issues/1/">Support</a>  (report issue)</li>
</ul>

<h4><a href="/windows-build-tools/">Windows Build Tools Home</a></h4>

<ul>
<li><a href="/windows-build-tools/">Overview</a> (read me first!)</li>
<li><a href="/windows-build-tools/install/">Windows Build Tools Install</a></li>
<li><a href="/windows-build-tools/build-procedure/">How to build</a></li>
<li><a href="/windows-build-tools/releases/">Releases</a></li>
<li><a href="https://github.com/gnuarmeclipse/windows-build-tools/issues/1/">Support</a> (report issue)</li>
</ul>

<h4>Advanced</h4>

<ul>
<li><a href="/advanced/headless-builds/">Headless builds</a></li>
</ul>

<h4><a href="/support/">Support</a></h4>

<ul>
<li><a href="/support/">Overview</a></li>
<li><a href="/support/known-issues/">Known issues</a></li>
<li><a href="/support/faq/">FAQ</a></li>
<li><a href="/support/sourceforge/">SourceForge tickets</a></li>
<li><a href="https://github.com/gnuarmeclipse/plug-ins/issues/1/">Report plug-ins issue</a></li>
</ul>

<h4><a href="/developer/">Developer</a></h4>

<ul>
<li><a href="/developer/build-procedure/">How to build</a></li>
<li><a href="/developer/publish-procedure/">How to publish</a></li>
<li><a href="/developer/change-log">Change log</a></li>
<li><a href="/developer/contribute/">Contribute</a></li>
</ul>

<h4>Hardware</h4>

<ul>
<li><a href="/developer/j-link-stm32-boards/">J-Link and STM32 boards</a></li>
</ul>

<h4>Articles</h4>

<ul>
<li><a href="/articles/arm-com-2014-07/">GNU ARM Eclipse: open source tools with (experimental) CMSIS Pack support</a></li>
<li><a href="/articles/arm-com-2015-09/">GNU ARM Eclipse has a new look and a new home</a></li>
</ul>

<h4>Licenses</h4>

<ul>
<li><a href="/licenses/plug-ins/">Eclipse plug-ins</a></li>
<li><a href="/licenses/tools/">Tools</a></li>
</ul>

<h4>Finance</h4>

<ul>
<li><a href="/finance/sponsorship/">Sponsorship &amp; donations</a></li>
</ul>

<h4><a href="/about/">About</a></h4>

<hr />
<a href="/feed.xml"><img src="/assets/images/feed.png" alt="RSS"></a>
<hr />
<p>This site uses the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="NXKFN7DJH8DJ6">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

</aside>


</div>

</div>



</body>

</html>
